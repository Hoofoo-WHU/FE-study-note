# Cache-Control

在HTTP/1.1中，Cache-Control是最重要的规则，主要用于控制网页缓存，主要取值为：

- public：所有内容都将被缓存（客户端和代理服务器都可缓存）
- private：所有内容只有客户端可以缓存，Cache-Control的默认取值
- no-cache：客户端缓存内容，但是是否使用缓存则需要经过协商缓存来验证决定
- no-store：所有内容都不会被缓存，即不使用强制缓存，也不使用协商缓存
- max-age=xxx (xxx is numeric)：缓存内容将在xxx秒后失效

##Etag / If-None-Match

用于浏览器与服务端进行协商缓存，其内容为一个由服务器生成的标识符

- 当浏览器请求服务器时，服务器将标识符存在Etag响应头中返回，浏览器将响应内容与标识符保存
- 当浏览器再次请求服务器时，将标识添加在请求头的If-None-Match中，服务器对比标识符，如果相同则返回304，浏览器使用缓存，如果不同则返回200重新响应请求

## 优先级

如果同时设置了强制缓存和协商缓存，则优先强制缓存，强制缓存过期就使用协商缓存